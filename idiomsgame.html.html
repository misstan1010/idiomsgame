<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æˆè¯­å­¦ä¹ æ¸¸æˆ</title>
  <style>
    body {
      font-family: 'Microsoft YaHei', sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
      color: #e67e22;
    }
    .game-mode-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .game-mode-buttons button {
      padding: 10px 20px;
      background-color: #3498db;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .game-mode-buttons button.active {
      background-color: #e74c3c;
    }
    .question-area {
      background: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      text-align: center;
    }
    .question {
      font-size: 20px;
      margin-bottom: 15px;
    }
    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
    }
    .option-btn {
      padding: 10px;
      background-color: #ecf0f1;
      border: 2px solid #bdc3c7;
      border-radius: 5px;
      cursor: pointer;
    }
    .option-btn.correct {
      background-color: #2ecc71;
      color: white;
    }
    .option-btn.incorrect {
      background-color: #e74c3c;
      color: white;
    }
    .result-screen {
      text-align: center;
      margin-top: 30px;
    }
    .hidden {
      display: none;
    }
    .control-btn {
      margin-top: 20px;
      padding: 10px 20px;
      background-color: #27ae60;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>æˆè¯­å­¦ä¹ æ¸¸æˆ</h1>
  <div class="game-mode-buttons">
    <button data-mode="fill-blank" class="active">ç»ƒä¹ ä¸€ï¼šæˆè¯­å¡«ç©º</button>
    <button data-mode="pinyin-choose">ç»ƒä¹ äºŒï¼šæ‹¼éŸ³é€‰æ‹©</button>
    <button data-mode="missing-char">ç»ƒä¹ ä¸‰ï¼šç¼ºå­—å¡«ç©º</button>
  </div>

  <div class="question-area" id="question-area">
    <div class="question" id="question">ç‚¹å‡»å¼€å§‹æ¸¸æˆ</div>
    <div class="options" id="options"></div>
    <button class="control-btn" id="next-btn">ä¸‹ä¸€é¢˜</button>
  </div>

  <div class="result-screen hidden" id="result-screen">
    <h2>ç­”é¢˜ç»“æŸï¼</h2>
    <p id="final-score"></p>
    <p>ğŸ‰ å¾ˆæ£’ï¼ç»§ç»­åŠ æ²¹ï¼ğŸ‰</p>
    <button class="control-btn" id="restart-btn">å†ç©ä¸€æ¬¡</button>
  </div>

  <script>
    const fillBlank = [
      { sentence: "è€å¸ˆè®²è§£æ—¶æ€è·¯æ¸…æ™°ï¼Œï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œè®©å­¦ç”Ÿå®¹æ˜“ç†è§£ã€‚", options: ["è¨€ä¹‹æœ‰ç†", "é•¿åçŸ­å¹", "è‰è…äººå‘½", "è—æ±¡çº³å¢"], answer: "è¨€ä¹‹æœ‰ç†" },
      { sentence: "ä»–è™½ç„¶å¾ˆåŠªåŠ›ï¼Œä½†æ¯•ç«Ÿï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œç»éªŒä¸è¶³å¯¼è‡´å¤±è¯¯ã€‚", options: ["é¤é£é¥®éœ²", "æ²§æµ·æ¡‘ç”°", "æ‰ç–å­¦æµ…", "å—¤ä¹‹ä»¥é¼»"], answer: "æ‰ç–å­¦æµ…" },
      { sentence: "è¿™ä¸ªåœ°æ–¹åäººèšé›†ï¼Œæ˜¯ä¸ªï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ä¹‹åœ°ã€‚", options: ["å‡ºç±»æ‹”èƒ", "è—æ±¡çº³å¢", "è¨€ä¹‹æœ‰ç†", "æ“ä¹‹è¿‡æ€¥"], answer: "è—æ±¡çº³å¢" },
      { sentence: "ä»–åŠäº‹æ€»æ˜¯ï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œç»“æœæ€»å‡ºé—®é¢˜ã€‚", options: ["æŒè®ºå…¬å…", "æ“ä¹‹è¿‡æ€¥", "é™ˆè¯æ»¥è°ƒ", "é•¿ç¯‡å¤§è®º"], answer: "æ“ä¹‹è¿‡æ€¥" },
      { sentence: "æœ‰äº›å•†äººï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œè¶æœºæ¶¨ä»·ï¼Œéå¸¸å¯æ¶ã€‚", options: ["è¶ç«æ‰“åŠ«", "é¤é£é¥®éœ²", "å—¤ä¹‹ä»¥é¼»", "å½»å¤´å½»å°¾"], answer: "è¶ç«æ‰“åŠ«" },
      { sentence: "ä»–çªç„¶å¬åˆ°æ¶ˆæ¯ï¼Œå“å¾—ï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ã€‚", options: ["å§è™è—é¾™", "é•¿ç¯‡å¤§è®º", "ç ç›®ç»“èˆŒ", "æŒè®ºå…¬å…"], answer: "ç ç›®ç»“èˆŒ" },
      { sentence: "å¥¹å‘è¨€æ€»æ˜¯ï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œå¤§å®¶éƒ½å¾ˆä¿¡æœã€‚", options: ["è‰è…äººå‘½", "æŒè®ºå…¬å…", "é™ˆè¯æ»¥è°ƒ", "æ“ä¹‹è¿‡æ€¥"], answer: "æŒè®ºå…¬å…" },
      { sentence: "ä¸–ç•Œå˜åŒ–å¤ªå¿«ï¼ŒçœŸæ˜¯ï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ã€‚", options: ["æ²§æµ·æ¡‘ç”°", "æ‰ç–å­¦æµ…", "é•¿åçŸ­å¹", "ç•…æ‰€æ¬²è¨€"], answer: "æ²§æµ·æ¡‘ç”°" },
      { sentence: "ä»–çš„è¯ä»å¤´åˆ°å°¾éƒ½æ˜¯ï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰ï¼Œæ²¡æœ‰ä¸€å¥çœŸè¯ã€‚", options: ["é¤é£é¥®éœ²", "å½»å¤´å½»å°¾", "æŒè®ºå…¬å…", "ç ç›®ç»“èˆŒ"], answer: "å½»å¤´å½»å°¾" },
      { sentence: "å³ä½¿ç”Ÿæ´»è‰°éš¾ï¼Œä»–ä¹Ÿï¼ˆâ€ƒâ€ƒâ€ƒâ€ƒï¼‰åœ°åŠªåŠ›ç”Ÿæ´»ã€‚", options: ["é¤é£é¥®éœ²", "å—¤ä¹‹ä»¥é¼»", "é™ˆè¯æ»¥è°ƒ", "è¨€ä¹‹æœ‰ç†"], answer: "é¤é£é¥®éœ²" }
    ];

    const pinyinChoose = [
      { sentence: "â€œé•¿åçŸ­å¹â€ä¸­çš„â€œå¹â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["tÄn", "tÃ¡n", "tÇn", "tÃ n"], answer: "tÃ n" },
      { sentence: "â€œè½¦æ°´é©¬é¾™â€ä¸­çš„â€œé¾™â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["lÅng", "lÃ³ng", "lÇ’ng", "lÃ²ng"], answer: "lÃ³ng" },
      { sentence: "â€œæƒ¨æ·¡ç»è¥â€ä¸­çš„â€œè¥â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["yÄ«ng", "yÃ­ng", "yÇng", "yÃ¬ng"], answer: "yÃ­ng" },
      { sentence: "â€œç•…æ‰€æ¬²è¨€â€ä¸­çš„â€œç•…â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["chÄng", "chÃ ng", "chÃ¡ng", "chÃ ng"], answer: "chÃ ng" },
      { sentence: "â€œæƒ¨ç»äººå¯°â€ä¸­çš„â€œå¯°â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["huÄn", "huÃ¡n", "huÇn", "huÃ n"], answer: "huÃ¡n" },
      { sentence: "â€œå—¤ä¹‹ä»¥é¼»â€ä¸­çš„â€œå—¤â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["chÄ«", "chÇ", "chÃ­", "chÇ"], answer: "chÄ«" },
      { sentence: "â€œæˆäººä¹‹ç¾â€ä¸­çš„â€œç¾â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["mÄ›i", "mÃ©i", "mÃ¨i", "mÃ­"], answer: "mÄ›i" },
      { sentence: "â€œè‰è…äººå‘½â€ä¸­çš„â€œè…â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["jiÄn", "jiÃ n", "jiÇn", "jÄ«n"], answer: "jiÄn" },
      { sentence: "â€œé™ˆè¯æ»¥è°ƒâ€ä¸­çš„â€œæ»¥â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["lÃ n", "lÃ¡n", "lÃ¡n", "lÇn"], answer: "lÃ n" },
      { sentence: "â€œæƒ¨ä¸å¿ç¹â€ä¸­çš„â€œç¹â€çš„æ‹¼éŸ³æ˜¯ï¼Ÿ", options: ["dÇ”", "dÃº", "dÅ«", "dÃ¹"], answer: "dÇ”" }
    ];

    const missingChar = [
      { sentence: "æ²‰é»˜å¯¡ï¼ˆ ï¼‰", options: ["è¯­", "è¨€", "è¯´", "é—²"], answer: "è¨€" },
      { sentence: "å‡ºç±»æ‹”ï¼ˆ ï¼‰", options: ["èƒ", "ç²¹", "å°–", "è„"], answer: "èƒ" },
      { sentence: "å§ï¼ˆ ï¼‰è—é¾™", options: ["ç‰›", "è™", "çŠ¬", "çŒª"], answer: "è™" },
      { sentence: "ç§°å¿ƒå¦‚ï¼ˆ ï¼‰", options: ["æ„", "æ„¿", "å¿ƒ", "æƒ³"], answer: "æ„" },
      { sentence: "é•¿ç¯‡å¤§ï¼ˆ ï¼‰", options: ["è°ƒ", "ç¯‡", "è®º", "å¿µ"], answer: "è®º" },
      { sentence: "è¨€ä¹‹æœ‰ï¼ˆ ï¼‰", options: ["åŠ›", "ç†", "å‘³", "ä¹‰"], answer: "ç†" },
      { sentence: "é™ˆè¯æ»¥ï¼ˆ ï¼‰", options: ["è¨€", "è°ˆ", "è°ƒ", "è¡¨"], answer: "è°ƒ" },
      { sentence: "å—¤ä¹‹ä»¥ï¼ˆ ï¼‰", options: ["å˜´", "é¼»", "ç¬‘", "æ‰‹"], answer: "é¼»" },
      { sentence: "é¤é£é¥®ï¼ˆ ï¼‰", options: ["æ°´", "é›¨", "éœ²", "é£"], answer: "éœ²" },
      { sentence: "ç ç›®ç»“ï¼ˆ ï¼‰", options: ["èˆŒ", "å˜´", "å£", "çœ¼"], answer: "èˆŒ" }
    ];

    let currentMode = 'fill-blank';
    let currentIndex = 0;
    let score = 0;
    let questions = [];

    const questionEl = document.getElementById('question');
    const optionsEl = document.getElementById('options');
    const nextBtn = document.getElementById('next-btn');
    const resultScreen = document.getElementById('result-screen');
    const questionArea = document.getElementById('question-area');
    const finalScore = document.getElementById('final-score');
    const restartBtn = document.getElementById('restart-btn');
    const modeBtns = document.querySelectorAll('.game-mode-buttons button');

    function loadQuestions() {
      switch (currentMode) {
        case 'fill-blank': questions = fillBlank; break;
        case 'pinyin-choose': questions = pinyinChoose; break;
        case 'missing-char': questions = missingChar; break;
      }
      currentIndex = 0;
      score = 0;
      resultScreen.classList.add('hidden');
      questionArea.classList.remove('hidden');
      showQuestion();
    }

    function showQuestion() {
      const q = questions[currentIndex];
      questionEl.innerHTML = q.sentence;
      optionsEl.innerHTML = '';
      q.options.forEach(opt => {
        const btn = document.createElement('button');
        btn.className = 'option-btn';
        btn.textContent = opt;
        btn.onclick = () => handleAnswer(btn, opt === q.answer);
        optionsEl.appendChild(btn);
      });
    }

    function handleAnswer(button, correct) {
      document.querySelectorAll('.option-btn').forEach(btn => btn.disabled = true);
      if (correct) {
        button.classList.add('correct');
        score += 1;
      } else {
        button.classList.add('incorrect');
        [...optionsEl.children].find(btn => btn.textContent === questions[currentIndex].answer).classList.add('correct');
      }
    }

    nextBtn.onclick = () => {
      currentIndex++;
      if (currentIndex < questions.length) {
        showQuestion();
      } else {
        questionArea.classList.add('hidden');
        resultScreen.classList.remove('hidden');
        finalScore.textContent = `æ€»å¾—åˆ†ï¼š${score} / ${questions.length}`;
      }
    };

    restartBtn.onclick = loadQuestions;

    modeBtns.forEach(btn => {
      btn.onclick = () => {
        modeBtns.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentMode = btn.dataset.mode;
        loadQuestions();
      };
    });

    loadQuestions();
  </script>
</body>
</html>
